(function(e){function t(t){for(var s,r,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(s=!1)}s&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var s={},r={app:0},i={app:0},a=[];function o(e){return c.p+"js/"+({messages:"messages"}[e]||e)+"."+{"chunk-660035ed":"bffcc5d1",messages:"c4b2244b"}[e]+".js"}function c(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-660035ed":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var s="css/"+({messages:"messages"}[e]||e)+"."+{"chunk-660035ed":"60c11b0a",messages:"31d6cfe0"}[e]+".css",i=c.p+s,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var u=a[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===s||l===i))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===s||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var s=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=s,delete r[e],p.parentNode.removeChild(p),n(a)},p.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){r[e]=0})));var s=i[e];if(0!==s)if(s)t.push(s[2]);else{var a=new Promise((function(t,n){s=i[e]=[t,n]}));t.push(s[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",d.name="ChunkLoadError",d.type=s,d.request=r,n[1](d)}i[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=s,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(n,s,function(t){return e[t]}.bind(null,s));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02a8":function(e,t,n){"use strict";var s=n("77e7"),r=n.n(s);r.a},"0c35":function(e,t,n){},"12a7":function(e,t,n){},1986:function(e,t,n){"use strict";var s=n("42cb"),r=n.n(s);r.a},"1d1b":function(e,t){e.exports={functional:!0,render(e,t){const{_c:n,_v:s,data:r,children:i=[]}=t,{class:a,staticClass:o,style:c,staticStyle:u,attrs:l={},...d}=r;return n("svg",{class:[a,o],style:[c,u],attrs:Object.assign({height:"256",width:"256",xmlns:"http://www.w3.org/2000/svg"},l),...d},i.concat([n("path",{attrs:{d:"M137.051 128l75.475-75.475c2.5-2.5 2.5-6.551 0-9.051s-6.551-2.5-9.051 0L128 118.949 52.525 43.475c-2.5-2.5-6.551-2.5-9.051 0s-2.5 6.551 0 9.051L118.949 128l-75.475 75.475a6.399 6.399 0 004.525 10.926 6.38 6.38 0 004.525-1.875L128 137.051l75.475 75.475c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.625 4.525-1.875c2.5-2.5 2.5-6.551 0-9.051L137.051 128z"}})]))}}},3785:function(e,t,n){"use strict";var s=n("6bdc"),r=n.n(s);r.a},"42cb":function(e,t,n){},4666:function(e,t,n){"use strict";var s=n("5719"),r=n.n(s);r.a},"47e5":function(e,t,n){"use strict";var s=n("7a2f"),r=n.n(s);r.a},5575:function(e,t,n){"use strict";var s=n("12a7"),r=n.n(s);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("d3b7"),n("e6cf"),n("a4d3");var s=n("2b0e"),r=n("8c4f"),i=n("2f62"),a=n("5ef5"),o=(n("d81d"),n("b0c0"),n("b64b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-wrapper h-100 content-section wrap-in-c"},[n("h1",{domProps:{innerHTML:e._s(e.$t("intro.title"))}}),n(e.componentType,{tag:"component",class:{"with-shadow":"media-slider"===e.componentType},attrs:{media:e.media}}),n("div",{staticClass:"content"},[n("p",{domProps:{innerHTML:e._s(e.$t("intro.content"))}})]),n("div",{staticClass:"btn-wrapper"},[n("div",{staticClass:"col-full"},[n("button",{staticClass:"btn btn-danger",class:{"is-active":e.buttonActive},on:{click:e.startQuiz}},[e._v(e._s(e.$t("intro.button")))])])])],1)}),c=[],u=(n("caad"),n("ac1f"),n("1276"),n("96cf"),n("1da1")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"media-card"},[n("div",{staticClass:"media-card-inner ratio",class:"video"===e.media.type?"ratio-video":"ratio-single"},["image"===e.media.type?n("img",{staticClass:"media-card-inner-content",attrs:{src:e.media.url}}):e._e(),"video"===e.media.type?n("vue-player",{staticClass:"media-card-inner-content p-player",attrs:{src:e.media.url,"play-button-class":"p-player-play"},scopedSlots:e._u([{key:"p-play-button",fn:function(){return[n("play-icon")]},proxy:!0}],null,!1,2982999816)}):e._e()],1)])},d=[],p=n("cc2e"),m=n.n(p),f=n("88c6"),h={name:"Single",components:{vuePlayer:f["a"],playIcon:m.a},props:{media:{type:Object,required:!0}},data:function(){return{playing:!0}}},v=h,g=n("2877"),b=Object(g["a"])(v,l,d,!1,null,null,null),_=b.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swiper-outer"},[n("swiper",{staticClass:"media-card swiper",attrs:{options:e.swiperOption}},e._l(e.media,(function(t,s){return n("swiper-slide",{key:s},[n("div",{staticClass:"media-card-inner ratio",class:"video"===e.media.type?"ratio-video":"ratio-multi"},["image"===t.type?n("img",{staticClass:"media-card-inner-content",attrs:{src:t.url}}):e._e(),"video"===t.type?n("div",{staticClass:"media-card-inner-content"},[e._v(e._s(t.url))]):e._e()]),e._t("description",null,null,t)],2)})),1)],1)},y=[],C=n("7212"),k=(n("a7a3"),{name:"Slider",components:{Swiper:C["Swiper"],SwiperSlide:C["SwiperSlide"]},directives:{swiper:C["directive"]},props:{media:{type:Array,required:!0}},data:function(){return{swiperOption:{slidesPerView:"auto",spaceBetween:15}}}}),$=k,x=(n("4666"),Object(g["a"])($,w,y,!1,null,"5fa09e0e",null)),S=x.exports,M={name:"AppIntro",components:{MediaSingle:_,MediaSlider:S},data:function(){return{buttonActive:!1}},computed:{componentType:function(){return Array.isArray(this.media)?"media-slider":"media-single"},media:function(){var e,t=this.$t("intro.media");if("string"===typeof t)e={type:this.checkFileType(t),url:t};else for(var n in e=[],t)e.push({type:this.checkFileType(t[n].media),url:t[n].media});return e}},methods:{startQuiz:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.buttonActive=!0,t.next=3,e.$nextTick((function(){e.$router.push({name:"question",params:{question:"1"}})}));case 3:case"end":return t.stop()}}),t)})))()},checkFileType:function(e){var t=e.split("."),n=t.pop();return["jpg","jpeg","png"].includes(n)?"image":!!["mp4"].includes(n)&&"video"}}},T=M,q=Object(g["a"])(T,o,c,!1,null,"045acc26",null),O=q.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-wrapper wrap-in-c"},[n(e.componentType,{tag:"component",class:{"with-shadow":"media-slider"===e.componentType},attrs:{media:e.media}}),n("div",{staticClass:"content"},[n("h2",{domProps:{innerHTML:e._s(e.$t("quiz."+e.question+".question.title"))}})]),n("div",{staticClass:"btn-wrapper"},[n("div",{staticClass:"col-half",class:{"is-active":e.trueActive}},[n("button",{staticClass:"btn btn-danger",class:{"is-active":e.trueActive},on:{click:function(t){return e.setResult(!0)}}},[e._v(e._s(e.$t("button.true")))])]),n("div",{staticClass:"col-half"},[n("button",{staticClass:"btn btn-dark",class:{"is-active":e.falseActive},on:{click:function(t){return e.setResult(!1)}}},[e._v(e._s(e.$t("button.false")))])])])],1)},A=[],j=n("53ca"),R={name:"AppQuestion",components:{MediaSingle:_,MediaSlider:S},data:function(){return{trueActive:!1,falseActive:!1}},watch:{question:function(e){this.$store.dispatch("setCurrentQuestion",e)}},computed:{question:function(){return this.$route.params.question},componentType:function(){return console.log(Object(j["a"])(this.media)),Array.isArray(this.media)?"media-slider":"media-single"},media:function(){var e,t=this.$t("quiz."+this.question+".question.media");if("string"===typeof t)e={type:this.checkFileType(t),url:t};else for(var n in e=[],t)e.push({type:this.checkFileType(t[n].media),url:t[n].media});return e}},methods:{checkFileType:function(e){var t=e.split("."),n=t.pop();return["jpg","jpeg","png"].includes(n)?"image":!!["mp4"].includes(n)&&"video"},setResult:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return!0===e?(t.trueActive=!0,t.falseActive=!1):(t.trueActive=!1,t.falseActive=!0),n.next=3,t.$nextTick((function(){t.$store.dispatch("setAnswer",e),t.$router.push({name:"answer",params:{question:t.question}})}));case 3:case"end":return n.stop()}}),n)})))()}},created:function(){this.$store.dispatch("setCurrentQuestion",this.question)}},E=R,Q=Object(g["a"])(E,P,A,!1,null,"6b0fa1ee",null),z=Q.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-wrapper wrap-in-c"},[n(e.componentType,{tag:"component",class:{"with-shadow":"media-slider"===e.componentType},attrs:{media:e.media}}),n("div",{staticClass:"content"},[n("h2",{class:{danger:e.isTrueResult},domProps:{innerHTML:e._s(e.$t("quiz."+e.question+".answer.title"))}}),n("p",{domProps:{innerHTML:e._s(e.$t("quiz."+e.question+".answer.content"))}})]),"true"===e.$t("quiz."+e.question+".answer.productSlider")?[n("product-slider",{on:{click:e.productClick}}),n("modal",{attrs:{open:e.modalOpen},on:{close:e.closeModal}},[n("app-form",{attrs:{product:e.changeProduct}})],1)]:e._e(),n("div",{staticClass:"btn-wrapper"},[n("button",{staticClass:"btn btn-danger btn__fullsize",class:{"is-active":e.buttonActive},domProps:{innerHTML:e._s(e.question>=e.countQuestions()?e.$t("button.showResult"):e.$t("button.next"))},on:{click:function(t){return e.nextAction()}}})])],2)},N=[],F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swiper-outer"},[n("swiper",{staticClass:"media-card swiper",attrs:{options:e.swiperOption}},e._l(e.products,(function(t,s){return n("swiper-slide",{key:s},[n("div",{staticClass:"media-card-inner product-type"},[n("div",{staticClass:"image ratio ratio-one-to-one"},["image"===t.type?n("img",{staticClass:"media-card-inner-content",attrs:{src:t.url}}):e._e()]),n("div",{staticClass:"description d-flex align-items-end flex-column"},[n("div",{staticClass:"title"},[e._v(e._s(t.description.name))]),n("div",{staticClass:"price"},[e._v(e._s(t.description.price))]),n("a",{staticClass:"link align-self-end mt-auto",attrs:{target:"_blank"},on:{click:function(n){return n.preventDefault(),e.clickProduct(t.description.name)}}},[e._v(e._s(t.description.linkTitle))])])])])})),1)],1)},H=[],V={name:"Slider",components:{Swiper:C["Swiper"],SwiperSlide:C["SwiperSlide"]},directives:{swiper:C["directive"]},data:function(){return{swiperOption:{slidesPerView:"auto",spaceBetween:15}}},computed:{products:function(){var e=this.$t("productList"),t=[];for(var n in e)t.push({type:"image",url:e[n].imageMin,description:{name:e[n].title,price:e[n].price,linkTitle:e[n].linkTitle,url:e[n].url}});return t}},methods:{clickProduct:function(e){this.$emit("click",e)}}},B=V,I=(n("3785"),Object(g["a"])(B,F,H,!1,null,"1bb6dd71",null)),D=I.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.open?n("div",{staticClass:"c-modal"},[n("div",{staticClass:"c-modal-inner"},[n("div",{staticClass:"c-modal-header d-flex justify-content-end"},[n("div",{staticClass:"c-modal-close",on:{click:e.closeModal}},[n("div",{staticClass:"c-modal-close-inner"})])]),n("div",{staticClass:"c-modal-content"},[e._t("default")],2)])]):e._e()])},U=[],G=n("1d1b"),K=n.n(G),W={name:"Modal",components:{closeIcon:K.a},props:{open:{default:!1}},data:function(){return{openModal:!0}},methods:{closeModal:function(){this.openModal=!1,this.$emit("close")}},watch:{open:function(e){this.openModal=e}}},Y=W,X=(n("1986"),Object(g["a"])(Y,J,U,!1,null,"452e5daa",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-block"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("div",{staticClass:"form-block_title h5"},[e._v(e._s(e.$t("form.title")))]),n("div",{staticClass:"form-block_group form-group",class:{"form-block_group--error":e.$v.name.$error}},[n("label",[e._v(e._s(e.$t("form.labelName")))]),n("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.$v.name.$model,expression:"$v.name.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{error:e.$v.name.$error},domProps:{value:e.$v.name.$model},on:{change:function(t){e.$set(e.$v.name,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.$v.name.required?e._e():n("div",{staticClass:"label-error"},[e._v(e._s(e.$t("form.errNameRequired")))])]),n("div",{staticClass:"form-block_group form-group",class:{"form-block_group--error":e.$v.phone.$error}},[n("label",[e._v(e._s(e.$t("form.labelPhone")))]),e.showMask?n("imask-input",{ref:"phone",staticClass:"form-control",class:{error:e.$v.phone.$error},attrs:{mask:e.mask,unmask:!1,type:"tel"},on:{complete:e.onComplete,accept:e.onAccept},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}):e._e(),e.$v.phone.isValidPhone?e._e():n("div",{staticClass:"label-error"},[e._v(e._s(e.$t("form.errPhoneInvalid")))])],1),n("div",{staticClass:"form-group form-block_group",class:{"form-block_group--error":e.$v.email.$error}},[n("label",[e._v(e._s(e.$t("form.labelEmail")))]),n("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{error:e.$v.email.$error},domProps:{value:e.$v.email.$model},on:{change:function(t){e.$set(e.$v.email,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.$v.email.email?e._e():n("div",{staticClass:"label-error"},[e._v(e._s(e.$t("form.errEmailInvalid")))])]),"SERVER_ERROR"===e.submitStatus?n("div",{staticClass:"form-error"},[e._v(e._s(e.$t("form.errServer")))]):e._e(),n("button",{staticClass:"btn btn-danger btn__fullsize form-block_btn",attrs:{type:"submit",disabled:"PENDING"===e.submitStatus}},[e._v(e._s(e.$t("form.actionBtn")))])])])},te=[],ne=(n("99af"),n("4d63"),n("25f0"),n("466d"),n("5319"),n("2ca0"),n("b5ae")),se=n("3f1c"),re={name:"Form",components:{"imask-input":se["a"]},props:{product:null},validations:{name:{required:ne["required"]},phone:{isValidPhone:function(e){return this.phoneSetComplete}},email:{email:ne["email"]}},data:function(){return{name:"",phone:"",email:"",submitStatus:null,prefix:"",showMask:!0,phoneSetComplete:!1}},computed:{regionPrefix:function(){return this.$store.state.regionMask},mask:function(){return this.$store.state.phoneMask}},methods:{doSetCaretPosition:function(e,t){void 0===t&&(t=this.phone.length+1),(e.selectionStart||0===e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=t,e.focus())},onComplete:function(e){this.phoneSetComplete=!0;var t=this.regionPrefix;if(!1!==t){var n=this.prefix.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=this.phone.match(new RegExp("^".concat(n,"\\D*\\((").concat(t,")")))||[];if(s.length){var r=this.phone,i=s[0].length-t.length;this.phone=r.substring(0,i)+r.substring(s[0].length),this.phoneSetComplete=!1}}},onAccept:function(e){this.phoneSetComplete=!1;var t=this.regionPrefix;console.log(t)},submit:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.$v.$invalid){t.next=5;break}e.submitStatus="ERROR",t.next=18;break;case 5:return e.submitStatus="PENDING",t.prev=6,t.next=9,e.sendRequest();case 9:return e.submitStatus="OK",t.next=12,e.$router.push("/final");case 12:t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](6),console.log(t.t0),e.submitStatus="SERVER_ERROR";case 18:case"end":return t.stop()}}),t,null,[[6,14]])})))()},sendRequest:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var s,r,i,a,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("product",e.product),t.next=3,n.e("messages").then(n.bind(null,"c7da"));case 3:return s=t.sent,r=s.settings.url,i=s.settings.user_geo?s.settings.user_geo.toUpperCase():"",a={user_name:e.name,user_tel:e.phone,user_mail:e.email,click_id:s.settings.click_id,leadform_id:s.settings.leadform_id,user_geo:i,vertical_id:s.settings.vertical_id,offerteam_id:s.settings.offerteam_id,ip:s.settings.ip,ua:s.settings.ua,buyer:s.settings.buyer},t.prev=7,console.log(r),t.next=11,fetch(r,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 11:return o=t.sent,t.next=14,o.json();case 14:if(c=t.sent,200===o.status){t.next=17;break}throw new Error(c);case 17:return console.log("Успех:",JSON.stringify(c)),t.abrupt("return",c);case 21:throw t.prev=21,t.t0=t["catch"](7),console.error("Ошибка:",t.t0),new Error(t.t0);case 25:case"end":return t.stop()}}),t,null,[[7,21]])})))()}},watch:{phone:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.startsWith(t.prefix)){n.next=6;break}return t.showMask=!1,n.next=4,t.$nextTick((function(){t.phone=t.prefix,t.showMask=!0}));case 4:return n.next=6,t.$nextTick((function(){t.doSetCaretPosition(t.$refs.phone.$el)}));case 6:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this.mask.match(/{(.*)}/);this.phone=this.prefix=e[1]}},ie=re,ae=(n("47e5"),Object(g["a"])(ie,ee,te,!1,null,"492df231",null)),oe=ae.exports,ce={name:"AppAnswer",components:{MediaSingle:_,MediaSlider:S,ProductSlider:D,Modal:Z,AppForm:oe},data:function(){return{buttonActive:!1,modalOpen:!1,changeProduct:null}},computed:{question:function(){return this.$route.params.question},componentType:function(){return console.log(Object(j["a"])(this.media)),Array.isArray(this.media)?"media-slider":"media-single"},media:function(){var e,t=this.$t("quiz."+this.question+".answer.media");if("string"===typeof t)e={type:this.checkFileType(t),url:t};else for(var n in e=[],t)e.push({type:this.checkFileType(t[n].media),url:t[n].media});return e},nextQuestion:function(){return parseInt(this.question)+1},isTrueResult:function(){return this.$store.getters.isTrueResult}},methods:{checkFileType:function(e){var t=e.split("."),n=t.pop();return["jpg","jpeg","png"].includes(n)?"image":!!["mp4"].includes(n)&&"video"},countQuestions:function(){return this.$store.getters.getCountQuestions},nextAction:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.buttonActive=!0,n={},n=e.question>=e.countQuestions()?{name:"result"}:{name:"question",params:{question:e.nextQuestion}},t.next=5,e.$nextTick((function(){e.$router.push(n)}));case 5:case"end":return t.stop()}}),t)})))()},closeModal:function(){this.modalOpen=!1},productClick:function(e){this.changeProduct=e,this.modalOpen=!0}}},ue=ce,le=(n("5575"),Object(g["a"])(ue,L,N,!1,null,"290be132",null)),de=le.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-wrapper"},[n("div",{staticClass:"res-block"},[n("div",{staticClass:"res-block_numbers"},[e._v(e._s(e.trueCount)),n("span",[e._v("/ "+e._s(e.countQuestions))])]),n("div",{staticClass:"res-block_text",domProps:{innerHTML:e._s(e.resultsMessages.message1)}})]),n("div",{staticClass:"h1 res_title",domProps:{innerHTML:e._s(e.resultsMessages.message2)}}),n("div",{staticClass:"res_description",domProps:{innerHTML:e._s(e.resultsMessages.message3)}}),n("media-slider",{attrs:{media:e.media},scopedSlots:e._u([{key:"description",fn:function(t){return[n("div",{staticClass:"product-description"},[n("div",{staticClass:"product-description_top d-flex justify-content-between"},[n("div",{staticClass:"product-description_title"},[e._v(e._s(t.description.name))]),n("div",{staticClass:"product-description_price"},[e._v(e._s(t.description.price))])]),n("a",{staticClass:"product-description_link",attrs:{target:"_blank"},on:{click:function(n){return n.preventDefault(),e.toForm(t.description.name)}}},[e._v(e._s(t.description.linkTitle))])])]}}])}),n("app-form",{ref:"form",attrs:{product:e.product}})],1)},me=[],fe={name:"AppResult",components:{MediaSlider:S,AppForm:oe},data:function(){return{trueCount:0,product:null}},computed:{resultsMessages:function(){var e=this.$t("results");for(var t in e.options)if(this.trueCount>=e.options[t].mask.from&&this.trueCount<=e.options[t].mask.to)return e.options[t];return{}},countQuestions:function(){return this.$store.getters.getCountQuestions},media:function(){var e=this.$t("productList"),t=[];for(var n in e)t.push({type:"image",url:e[n].image,description:{name:e[n].title,price:e[n].price,linkTitle:e[n].linkTitle}});return t}},methods:{trueResultCount:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("setTrueResultsCount");case 2:e.trueCount=t.sent;case 3:case"end":return t.stop()}}),t)})))()},toForm:function(e){this.product=e,this.$refs.form.$el.scrollIntoView()}},created:function(){this.trueResultCount()}},he=fe,ve=(n("8bc5"),Object(g["a"])(he,pe,me,!1,null,"963f3fb6",null)),ge=ve.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-wrapper h-100 content-section"},[n("h1",{domProps:{innerHTML:e._s(e.$t("final.title"))}}),n(e.componentType,{tag:"component",class:{"with-shadow":"media-slider"===e.componentType},attrs:{media:e.media}}),n("div",{staticClass:"content"},[n("p",{domProps:{innerHTML:e._s(e.$t("final.content"))}})]),n("div",{staticClass:"btn-wrapper"},[n("div",{staticClass:"col-full"},[n("button",{staticClass:"btn btn-danger",class:{"is-active":e.buttonActive},on:{click:e.toStart}},[e._v(e._s(e.$t("final.button")))])])])],1)},_e=[],we={name:"AppFinal",components:{MediaSingle:_,MediaSlider:S},data:function(){return{buttonActive:!1}},computed:{componentType:function(){return Array.isArray(this.media)?"media-slider":"media-single"},media:function(){var e,t=this.$t("final.media");if("string"===typeof t)e={type:this.checkFileType(t),url:t};else for(var n in e=[],t)e.push({type:this.checkFileType(t[n].media),url:t[n].media});return e}},methods:{toStart:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.buttonActive=!0,t.next=3,e.$nextTick((function(){e.$router.push({name:"intro"})}));case 3:case"end":return t.stop()}}),t)})))()},checkFileType:function(e){var t=e.split("."),n=t.pop();return["jpg","jpeg","png"].includes(n)?"image":!!["mp4"].includes(n)&&"video"}}},ye=we,Ce=Object(g["a"])(ye,be,_e,!1,null,"743a8148",null),ke=Ce.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-section d-flex flex-column flex-grow-1"},[n("div",{staticClass:"content-header",class:{fixed:e.fixBar}},[n("progress-bar",{staticClass:"pos-rel"})],1),n("div",{staticClass:"content-main d-flex flex-column flex-grow-1",style:{paddingTop:e.contentPadding+"px"}},[n("transition",{attrs:{name:e.transitionName}},[n("router-view",{staticClass:"flex-grow-1"})],1)],1)])},xe=[],Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-wrapper progress-bar-wrapper"},[n("div",{staticClass:"progress-bar-heading"},[e._v(e._s(e.$t("common.progressBar"))+" "+e._s(e.currentQuestion)),n("span",[e._v(" / "+e._s(e.countQuestions))])]),n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"progress-bar-inner",style:{width:100*e.currentQuestion/e.countQuestions+"%"}})])])},Me=[],Te={name:"ProgressBar",computed:{countQuestions:function(){return this.$store.getters.getCountQuestions},currentQuestion:function(){return this.$store.state.currentQuestion}}},qe=Te,Oe=(n("02a8"),Object(g["a"])(qe,Se,Me,!1,null,"68d4c4da",null)),Pe=Oe.exports,Ae={name:"AppQuizWrapper",components:{ProgressBar:Pe},data:function(){return{fixBar:!1,contentPadding:0}},methods:{handleScroll:function(){this.fixBar=window.pageYOffset>=65,this.contentPadding=this.fixBar?52:0}},computed:{transitionName:function(){return this.$store.state.transitionName}},mounted:function(){document.addEventListener("scroll",this.handleScroll)},destroyed:function(){document.removeEventListener("scroll",this.handleScroll)}},je=Ae,Re=(n("db8d"),Object(g["a"])(je,$e,xe,!1,null,"7abf52aa",null)),Ee=Re.exports,Qe=n("a7fe"),ze=n.n(Qe),Le=n("bc3a"),Ne=n.n(Le),Fe="http://old.1zaem.ru/api/";s["default"].use(ze.a,Ne.a),s["default"].use(i["a"]),s["default"].axios.defaults.baseURL=Fe;var He=new i["a"].Store({state:{questions:[],currentQuestion:0,transitionName:"slide-left",trueResultCount:0,phoneMask:null,regionMask:!1},getters:{getCountQuestions:function(e){return e.questions.length},isTrueResult:function(e){return e.questions[e.currentQuestion-1].question.result},getMedia:function(e){return function(t){var n=t.type,s=t.id,r=e.questions[s][n].media;return{1:r}}}},mutations:{setAnswer:function(e,t){e.questions[e.currentQuestion-1].userResult=e.questions[e.currentQuestion-1].result===t},setQuestions:function(e,t){e.questions=t},setCurrentQuestion:function(e,t){e.currentQuestion=t},setTransition:function(e,t){e.transitionName=t},setRegionMask:function(e,t){e.regionMask=t},setPhoneMask:function(e,t){e.phoneMask=t}},actions:{setMasks:function(e,t){var n=e.commit,s=t.phoneMask,r=t.regionMask;n("setPhoneMask",s),n("setRegionMask",r)},setAnswer:function(e,t){var n=e.dispatch,s=e.commit;s("setAnswer",t),n("saveAnswerToLS",t)},setQuestions:function(e,t){var n=e.commit,s=[];for(var r in t)s.push(t[r]);n("setQuestions",s)},setCurrentQuestion:function(e,t){var n=e.commit;n("setCurrentQuestion",t)},setTransition:function(e,t){var n=e.commit;console.log(t),n("setTransition",t)},saveAnswerToLS:function(e,t){var n=e.state,s=Ve();s[n.currentQuestion]=t,localStorage.setItem("results",JSON.stringify(s))},setTrueResultsCount:function(e){var t=e.state,n=(e.commit,new Promise((function(e){var n=Ve(),s=0;for(var r in t.questions)Object.prototype.hasOwnProperty.call(n,r)&&(s=t.questions[r].question.result===n[r]?s+1:s);e(s)})));return n}},strict:!1});function Ve(){var e=localStorage.getItem("results");return e=JSON.parse(e),null===e&&(e={}),e}var Be=new r["a"]({mode:"hash",linkActiveClass:"active",base:"",routes:[{path:"/",name:"intro",component:O},{path:"",component:Ee,children:[{path:"question/:question",name:"question",component:z,props:!0},{path:"answer/:question",name:"answer",component:de,props:!0}]},{path:"/result",name:"result",component:ge},{path:"/final",name:"final",component:ke},{path:"*",redirect:"/"}]});function Ie(e){Object.keys(e).map((function(t,n){var s=new Image;s.src=e[t]}))}Be.beforeEach((function(e,t,n){var s;switch(e.name){case"question":case"answer":s=He.getters.getMedia({type:e.name,id:e.params.question-1}),Ie(s),console.log(s);break}He.dispatch("setCurrentQuestion",e.params.question),console.log("from",t.name,t.params.question),console.log("to",e.name,e.params.question),"intro"===e.name||"question"===t.name&&"answer"===e.name&&e.params.question<t.params.question||"answer"===t.name&&"question"===e.name&&e.params.question===t.params.question||"final"===t.name&&"result"===e.name||"result"===t.name&&"answer"===e.name?He.dispatch("setTransition","slide-right"):He.dispatch("setTransition","slide-left"),n()}));var De=Be,Je=n("a925"),Ue=n("1dce"),Ge=n.n(Ue),Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tf-app d-flex flex-column"},[n("header",{staticClass:"header",class:{hidden:e.hideHeader}},[n("div",{staticClass:"c-wrapper"},[n("div",{staticClass:"logo"},[n("logo")],1)])]),n("div",{staticClass:"content-wrapper d-flex flex-column flex-grow-1"},[n("transition",{attrs:{name:e.transitionName}},[n("router-view")],1)],1)])},We=[],Ye=n("9b19"),Xe=n.n(Ye),Ze={name:"App",components:{ProgressBar:Pe,Logo:Xe.a},data:function(){return{hideHeader:!1}},computed:{transitionName:function(){return this.$store.state.transitionName}}},et=Ze,tt=(n("60b9"),Object(g["a"])(et,Ke,We,!1,null,"7170ef76",null)),nt=tt.exports;n.e("chunk-660035ed").then(n.t.bind(null,"78a7",7)),s["default"].use(Je["a"]),s["default"].use(r["a"]),s["default"].use(i["a"]),s["default"].use(a["a"]),s["default"].use(Ge.a);var st=n.e("messages").then(n.bind(null,"c7da"));st.then((function(e){var t=new Je["a"]({locale:e.settings.user_geo,fallbackLocale:"en",messages:e.default}),n=e.default[e.settings.user_geo].form.maskPhone,r=e.default[e.settings.user_geo].form.regionPrefix||!1;He.dispatch("setMasks",{phoneMask:n,regionMask:r}),He.dispatch("setQuestions",e.default.en.quiz),new s["default"]({router:De,store:He,i18n:t,render:function(e){return e(nt)}}).$mount("#app")}))},5719:function(e,t,n){},"60b9":function(e,t,n){"use strict";var s=n("0c35"),r=n.n(s);r.a},"6bdc":function(e,t,n){},"77e7":function(e,t,n){},"7a2f":function(e,t,n){},"8bc5":function(e,t,n){"use strict";var s=n("9cd2"),r=n.n(s);r.a},"9b19":function(e,t){e.exports={functional:!0,render(e,t){const{_c:n,_v:s,data:r,children:i=[]}=t,{class:a,staticClass:o,style:c,staticStyle:u,attrs:l={},...d}=r;return n("svg",{class:[a,o],style:[c,u],attrs:Object.assign({width:"139",height:"25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l),...d},i.concat([n("path",{attrs:{d:"M39.987 8.464h-4.136v11.15h-2.783V8.463h-4.08V6.231h11v2.233zM52.416 13.225c0 1.318-.235 2.473-.705 3.466-.47.992-1.144 1.758-2.022 2.297-.872.54-1.874.81-3.005.81-1.12 0-2.118-.267-2.996-.8-.878-.534-1.558-1.293-2.04-2.28-.483-.993-.727-2.132-.733-3.42v-.66c0-1.318.238-2.476.714-3.475.482-1.005 1.16-1.774 2.031-2.307.878-.54 1.88-.81 3.005-.81 1.126 0 2.124.27 2.996.81.878.533 1.555 1.302 2.031 2.307.483.999.724 2.154.724 3.465v.597zm-2.82-.606c0-1.403-.253-2.47-.76-3.199-.507-.73-1.23-1.094-2.17-1.094-.934 0-1.655.362-2.162 1.085-.507.717-.763 1.77-.77 3.162v.652c0 1.367.254 2.427.76 3.18.508.754 1.238 1.131 2.19 1.131.934 0 1.65-.361 2.152-1.085.5-.729.754-1.789.76-3.18v-.652zM64.659 6.23v8.815c0 1.465-.464 2.623-1.391 3.475-.922.851-2.183 1.277-3.785 1.277-1.576 0-2.828-.413-3.756-1.24-.927-.828-1.4-1.964-1.42-3.41V6.23h2.783v8.833c0 .876.21 1.516.631 1.92.427.399 1.014.598 1.762.598 1.565 0 2.36-.815 2.384-2.445V6.231h2.792zM77.625 17.922c-.5.595-1.209 1.057-2.124 1.388-.915.325-1.929.487-3.042.487-1.169 0-2.195-.251-3.08-.753-.877-.51-1.557-1.244-2.04-2.206-.476-.963-.72-2.093-.732-3.392v-.91c0-1.336.225-2.49.677-3.465.457-.98 1.113-1.728 1.966-2.243.86-.52 1.864-.781 3.014-.781 1.602 0 2.854.38 3.757 1.14.903.753 1.437 1.853 1.604 3.3h-2.708c-.124-.767-.399-1.327-.826-1.683-.42-.355-1.001-.533-1.743-.533-.946 0-1.667.353-2.161 1.057-.495.705-.745 1.753-.751 3.144v.854c0 1.404.268 2.464.806 3.18.538.718 1.327 1.076 2.365 1.076 1.046 0 1.79-.22 2.236-.662v-2.307H72.31v-2.031h5.314v5.34zM90.88 19.613h-2.783v-5.735H82.67v5.735h-2.783V6.231h2.783v5.423h5.426V6.23h2.782v13.382zM101.685 6.23l3.469 9.707 3.45-9.706h3.654v13.382h-2.792v-3.658l.279-6.314-3.645 9.972h-1.911l-3.636-9.963.278 6.305v3.658h-2.782V6.231h3.636zM122.479 16.856h-4.878l-.928 2.757h-2.959l5.027-13.382h2.579l5.055 13.382h-2.959l-.937-2.757zm-4.127-2.234h3.376l-1.697-5.009-1.679 5.01zM138.618 19.613h-2.783l-5.416-8.805v8.805h-2.783V6.231h2.783l5.426 8.823V6.231h2.773v13.382zM2.601 25l7.993-5.26L18.582 25 10.594.472 2.6 25zM8.92.472L0 3.625 6.99 6.047 8.919.472zM21.183 3.625L12.263.472l1.931 5.575 6.989-2.422z",fill:"#D21E33"}})]))}}},"9cd2":function(e,t,n){},bb54:function(e,t,n){},cc2e:function(e,t){e.exports={functional:!0,render(e,t){const{_c:n,_v:s,data:r,children:i=[]}=t,{class:a,staticClass:o,style:c,staticStyle:u,attrs:l={},...d}=r;return n("svg",{class:[a,o],style:[c,u],attrs:Object.assign({width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l),...d},i.concat([n("path",{attrs:{d:"M27 14c0 7.18-5.82 13-13 13S1 21.18 1 14 6.82 1 14 1s13 5.82 13 13z",stroke:"#fff","stroke-width":"2"}}),n("path",{attrs:{d:"M13.579 18.908l4.342-3.319a2 2 0 000-3.178l-4.342-3.319c-1.316-1.005-3.215-.067-3.215 1.59v6.637c0 1.656 1.899 2.595 3.215 1.589z",stroke:"#fff","stroke-width":"2"}})]))}}},db8d:function(e,t,n){"use strict";var s=n("bb54"),r=n.n(s);r.a}});
